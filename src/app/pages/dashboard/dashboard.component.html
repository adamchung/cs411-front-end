<div class="row">
  <div class="col-md-6">
    <div class="card card-chart">
      <div class="card-header">
        <h5 class="card-title">Add Stock</h5>
        <p class="card-category">Add new stocks to your portfolio</p>
      </div>
      <div class="card-body">
        <form [formGroup]="addStockFormGroup">
          <mat-form-field appearance="fill">
            <mat-label>Stocks</mat-label>
            <mat-select formControlName="tickerCtrl">
              <ng-container *ngIf="getPortfolio() | async">
                <ng-container *ngIf="portfolioService.tickers$ | async">

                  
                  <ng-container *ngFor="let t of portfolioService.getAddableTickers()">
                    <mat-option [value]="t">{{t}}</mat-option>
                  </ng-container>
                </ng-container>
              </ng-container>
            </mat-select>
          </mat-form-field>
          <button class="btn btn-outline-primary" style="margin-left: 1em" (click)="addStock()">Add</button>
        </form>
      </div>
    </div>
  </div>
  <div class="col-md-6">
    <div class="card card-chart">
      <div class="card-header">
        <h5 class="card-title">Remove Stock</h5>
        <p class="card-category">Remove stocks from your portfolio</p>
      </div>
      <div class="card-body">
        <form [formGroup]="deleteStockFormGroup">
          <mat-form-field appearance="fill">
            <mat-label>Stocks</mat-label>
            <mat-select formControlName="tickerCtrl">
              <ng-container *ngFor="let s of getPortfolio() | async">
                <mat-option [value]="s.ticker">{{s.ticker}}</mat-option>
              </ng-container>
            </mat-select>
          </mat-form-field>
          <button class="btn btn-outline-primary" style="margin-left: 1em" (click)="removeStock()">Remove</button>
        </form>
      </div>
    </div>
  </div>
</div>
<div class="row">
  <div class="col">
    <div class="card card-chart">
      <div class="card-header">
        <h3 class="card-title">My Portfolio</h3>
        <p class="card-category">Browse the stocks in your portfolio</p>
      </div>
      <div class="card-body">
        <div class="table-responsive">
          <table class="table" style="">
            <thead class="text-primary">
            <th *ngFor="let header of portfolioHeader">{{header}}</th>
            <th></th>
            </thead>
            <tbody>
              <ng-container *ngIf="getPortfolio() | async as p; else loadingStocks">
                <ng-container *ngIf="p.length > 0; else noStocks">
                  <ng-container *ngFor="let s of p">
                    <tr>
                      <td>{{s.companyName}}</td>
                      <td>{{s.ticker}}</td>
                      <td>{{s.high | currency: 'USD'}}</td>
                      <td>{{s.low | currency: 'USD'}}</td>
                      <td>{{s.open | currency: 'USD'}}</td>
                      <td>{{s.close | currency: 'USD'}}</td>
                      <td>
                        <button class="btn btn-sm btn-outline-primary" (click)="goToStocks(s.ticker)">More</button>
                      </td>
                    </tr>
                  </ng-container>
                </ng-container>
                <ng-template #noStocks>
                  <tr>
                    <td [colSpan]="portfolioHeader.length + 1">
                      <em>No stocks found in portfolio!</em>
                    </td>
                  </tr>
                </ng-template>
              </ng-container>
              <ng-template #loadingStocks>
                <tr>
                  <td [colSpan]="portfolioHeader.length + 1">
                    <em>Loading...</em>
                  </td>
                </tr>
              </ng-template>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>
<!--<div class="row">-->
<!--  <div class="col">-->
<!--    <div class="card card-chart">-->
<!--      <div class="card-header">-->
<!--        <h5 class="card-title">NASDAQ: AAPL</h5>-->
<!--        <p class="card-category">Line Chart with Points</p>-->
<!--      </div>-->
<!--      <div class="card-body">-->
<!--        <canvas id="speedChart" width="400" height="100"></canvas>-->
<!--      </div>-->
<!--      <div class="card-footer">-->
<!--        <div class="chart-legend">-->
<!--          <i class="fa fa-circle text-info"></i> Tesla Model S-->
<!--          <i class="fa fa-circle text-warning"></i> BMW 5 Series-->
<!--        </div>-->
<!--        <hr/>-->
<!--        <div class="card-stats">-->
<!--          <i class="fa fa-check"></i> Data information certified-->
<!--        </div>-->
<!--      </div>-->
<!--    </div>-->
<!--  </div>-->
<!--</div>-->
<!--<div class="row">-->
<!--  <div class="col">-->
<!--    <button>Change Data</button>-->
<!--  </div>-->
<!--</div>-->
